<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title data-i18n="appName">灵狐书签</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style/normalize.css">
	<link rel="stylesheet" href="style/flex.css">
	<link rel="stylesheet" href="style/index.css">
	<link rel="stylesheet" href="style/duplicate.css">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
</head>

<body flex="dir:top">
	<div class="header">
		<div class="navbar" flex="main:justify cross:center">
			<div class="logo" flex="cross:center">
				<img src="images/logo.png" alt="灵狐书签">
				<h1 class="header-title" data-i18n="appName">灵狐书签</h1>
				<span id="app-version" class="header-version"></span>
			</div>
			<div class="nav">
				<a href="index.html" id="nav-invalid">
					<i>🧹</i>
					<span data-i18n="invalidBookmarks">失效书签</span>
				</a>
				<a href="#" id="nav-duplicate" class="active">
					<i>🔁</i>
					<span data-i18n="duplicateBookmarks">重复书签</span>
				</a>
				<a href="analytics.html" id="nav-analysis">
					<i>📊</i>
					<span data-i18n="analysis">分析与洞察</span>
				</a>
				<div class="nav-dropdown">
					<a href="javascript:void(0);" class="nav-dropdown-toggle">
						<i>⚙️</i>
						<span data-i18n="settings">设置</span>
					</a>
					<div class="nav-dropdown-menu">
						<a href="#" id="openHistory">
							<i>📜</i>
							<span data-i18n="history">历史</span>
						</a>
						<a href="#" id="openRecycleBin">
							<i>♻️</i>
							<span data-i18n="recycleBin">回收站</span>
						</a>
						<a href="#" id="openSettings">
							<i>⚙️</i>
							<span data-i18n="settings">设置</span>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<!-- 扫描统计数据 -->
		<div class="scan-stats-wrapper" flex>
			<div class="stats-container" flex-box="1" flex="box:mean">
				<div>
					<div data-i18n="scanTime">扫描用时</div>
					<div id="scan-duration">0</div>
				</div>
				<div>
					<div data-i18n="totalBookmarks">书签总数</div>
					<div>
						<span id="scanned-bookmarks">0</span>/<span id="total-bookmarks">100</span>
					</div>
				</div>
				<div>
					<div data-i18n="duplicateUrls">重复网址</div>
					<div id="duplicate-urls">0</div>
				</div>
				<div>
					<div data-i18n="duplicateBookmarks">重复书签</div>
					<div id="duplicate-bookmarks">0</div>
				</div>
			</div>
		</div>

		<div class="bookmark-stats" style="display: none;">
			<div id="totalBookmarks" data-i18n="totalBookmarksLabel">总书签数：</div>
		</div>
        <div id="scanScopeContainer" class="scan-scope">
            <!-- Dynamically populated -->
        </div>
		<div class="button-group">
			<button id="checkDuplicate" data-i18n="checkDuplicate">检测重复书签</button>
		</div>
		<div class="results">
			<!-- Duplicate Bookmarks Tab -->
			<div id="duplicate-tab-content" class="tab-content" style="display: block;">
				<div class="select-all">
					<label>
						<input type="checkbox" id="selectAllDuplicate">
						<span data-i18n="selectAll">全选</span>
					</label>
				</div>
				<div id="duplicateList" class="bookmark-list"></div>
			</div>
		</div>

		<div class="action-buttons">
			<button id="smartSelect" style="display: none;" data-i18n="smartKeep">智能保留</button>
			<button id="deleteSelected" data-i18n="deleteSelected">删除选中书签</button>
			<button id="cancel" data-i18n="cancel">取消</button>
		</div>
	</div>

	<!-- 创建预览实例 (Moved outside container) -->
	<div class="preview-container" id="preview-container">
		<div class="preview-header">
			<span class="preview-title" id="preview-title"></span>
			<button class="preview-close" id="preview-close">&#x2715;</button>
		</div>
		<iframe id="preview-frame" class="preview-frame"></iframe>
	</div>

	<script src="js/locales.js"></script>
	<script src="js/i18n.js"></script>
	<script src="js/common.js"></script>
	<script src="js/duplicates.js"></script>
	<script src="js/preview.js"></script>
</body>

</html>